<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Latex on ubuntu | Yi Cai</title>
<meta name="keywords" content="Latex">
<meta name="description" content="Texlive on ubuntu
For installation, just run
sudo apt-get install texlive-full
latexmk
Latexmk is a Perl script which you just have to run once and it does everything else for you.
Compile all .tex files in the current directory using the output format specified by the configuration files.
latexmk
If you want to make sure to get a .pdf
latexmk -pdf
If you want to preview the resulting output file, just use">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/en/blog/latex_setup/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css" integrity="sha256-2jIR5e&#43;Ge/K3X9WmUVz&#43;1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/en/blog/latex_setup/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>


<link href="https://fonts.googleapis.com/css2?family=Agbalumo&family=Ubuntu&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">


<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&display=swap" rel="stylesheet">

<link rel="stylesheet" href="/css/font.css">
<link rel="stylesheet" href="/css/avatar.css">


<script data-goatcounter="https://escapetiger.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/en/" accesskey="h" title="Yi Cai (Alt + H)">Yi Cai</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                    <ul class="lang-switch"><li>|</li>
                        <li>
                            <a href="http://localhost:1313/zh/" title="中文"
                                aria-label="中文">Zh</a>
                        </li>
                    </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/en/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/research/" title="Research">
                    <span>Research</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/cv/" title="CV">
                    <span>CV</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Latex on ubuntu
    </h1>
    <div class="post-meta"><span title='2022-02-28 06:03:40 +0000 UTC'>February 28, 2022</span>&nbsp;·&nbsp;<span>3 min</span>&nbsp;·&nbsp;<span>430 words</span>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#texlive-on-ubuntu" aria-label="Texlive on ubuntu">Texlive on ubuntu</a><ul>
                        
                <li>
                    <a href="#latexmk" aria-label="latexmk">latexmk</a></li></ul>
                </li>
                <li>
                    <a href="#references" aria-label="References">References</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="texlive-on-ubuntu">Texlive on ubuntu<a hidden class="anchor" aria-hidden="true" href="#texlive-on-ubuntu">#</a></h2>
<p>For installation, just run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo apt-get install texlive-full
</span></span></code></pre></div><h3 id="latexmk">latexmk<a hidden class="anchor" aria-hidden="true" href="#latexmk">#</a></h3>
<p><a href="https://personal.psu.edu/~jcc8/software/latexmk/">Latexmk</a> is a <a href="https://www.perl.org/">Perl</a> script which you just have to run once and it does everything else for you.</p>
<p>Compile all <code>.tex</code> files in the current directory using the output format specified by the configuration files.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>latexmk
</span></span></code></pre></div><p>If you want to make sure to get a <code>.pdf</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>latexmk -pdf
</span></span></code></pre></div><p>If you want to preview the resulting output file, just use</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>latexmk -pv
</span></span></code></pre></div><p>If you want <code>latexmk</code> to continuously check all input files for changes and re-compile the whole thing if needed and always display the result, type</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>latexmk -pvc
</span></span></code></pre></div><p>After running latex, the current directory is contaminated with a myriad of temporary files; you can get rid of them with</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>latexmk -c
</span></span></code></pre></div><p>To delete <code>.pdf/.ps/.dvi</code> files at the same time, use</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>latexmk -C
</span></span></code></pre></div><p>On <code>linux</code> you can put you configurations into <code>$HOME/.latexmkrc</code>, which could contain something like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$dvi_previewer <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;start xdvi -watchfile 1.5&#39;</span>;
</span></span><span style="display:flex;"><span>$ps_previewer  <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;start gv --watch&#39;</span>;
</span></span><span style="display:flex;"><span>$pdf_previewer <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;start zathura&#39;</span>;
</span></span></code></pre></div><p>Also, you can put a configuration file in the current directory for settings which only influence files in the current directory. Such a configuration file has to be named <code>latexmrkc</code> or <code>.latexmkrc</code> and may contain of the following lines.</p>
<p>To specify if you want PDF or PS output, choose one of those:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$pdf_mode <span style="color:#f92672">=</span> 1; <span style="color:#75715e"># tex -&gt; pdf</span>
</span></span><span style="display:flex;"><span>$pdf_mode <span style="color:#f92672">=</span> 2; <span style="color:#75715e"># tex -&gt; ps -&gt; pdf</span>
</span></span><span style="display:flex;"><span>$postscript_mode <span style="color:#f92672">=</span> 1; <span style="color:#75715e"># tex -&gt; ps</span>
</span></span></code></pre></div><p>If you have your work split up into several parts, you have to specify the main file like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>@default_files <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#39;main.tex&#39;</span><span style="color:#f92672">)</span>;
</span></span></code></pre></div><p>Or maybe you want to process several files:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>@default_files <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#39;file-one.tex&#39;</span>, <span style="color:#e6db74">&#39;file-two.tex&#39;</span><span style="color:#f92672">)</span>
</span></span></code></pre></div><p><strong>Note:</strong> If you don&rsquo;t specify <code>@defaulte_files</code>, all <code>.tex</code> file in the current directory will be used.</p>
<p>If you are creating your figures in EPS format but you need them in PDF, you can tell <code>latexmk</code> to convert them for you</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>@cus_dep_list <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>@cus_dep_list, <span style="color:#e6db74">&#34;eps pdf 0 eps2pdf&#34;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>sub eps2pdf <span style="color:#f92672">{</span> system<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;epstopdf </span>$_<span style="color:#e6db74">[0].eps&#34;</span><span style="color:#f92672">)</span>; <span style="color:#f92672">}</span>
</span></span></code></pre></div><p>If you need to enable shell escape for <code>\write18</code> (e.g. for on-the-fly figure generation):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$latex <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;latex -interaction=nonstopmode -shell-escape&#39;</span>;
</span></span><span style="display:flex;"><span>$pdflatex <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;pdflatex -interaction=nonstopmode -shell-escape&#39;</span>;
</span></span></code></pre></div><p><strong>Note:</strong> <code>\write</code> can write string into an extern file, a simple example looks like</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-latex" data-lang="latex"><span style="display:flex;"><span><span style="color:#75715e">% main.tex
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">\documentclass</span>{article}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\begin</span>{document}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\immediate\openout</span>0=<span style="color:#66d9ef">\jobname</span>.wrt
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\immediate\write</span>0{abc}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\immediate\closeout</span>0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\null</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">\end</span>{document}
</span></span></code></pre></div><p><code>\write18</code> is a special <code>\write</code>, which can execute <code>&lt;general text&gt;</code> in terminal.</p>
<p>Finally if <code>latexmk -c</code> refuses to remove certain files, you can specify their extensions and next time they&rsquo;ll be gone;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$clean_ext <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bbl nav out snm&#34;</span>
</span></span></code></pre></div><p>Full documentation for <a href="https://personal.psu.edu/~jcc8/software/latexmk/">latexmk</a>  is available in the <a href="http://personal.psu.edu/~jcc8/software/latexmk/latexmk-469a.txt">manpage</a>.</p>
<h2 id="references">References<a hidden class="anchor" aria-hidden="true" href="#references">#</a></h2>
<ol>
<li><a href="http://personal.psu.edu/~jcc8/software/latexmk/latexmk-469a.txt">Latexmk full documenation</a></li>
<li><a href="https://mg.readthedocs.io/latexmk.html">Latexmk tutorial blog</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/73409925">\write18 explanation</a></li>
</ol>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/en/tags/latex/">Latex</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/en/">Yi Cai</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>
<script src="https://cdn.jsdelivr.net/npm/bubbly-bg@0.1.10/dist/bubbly.min.js"></script>
<script>
document.addEventListener("click", (e) => {
  const bubble = document.createElement("div");
  bubble.style.position = "fixed";
  bubble.style.left = e.clientX + "px";
  bubble.style.top = e.clientY + "px";
  bubble.style.width = bubble.style.height = "12px";
  bubble.style.background = "rgba(255,182,193,0.8)";
  bubble.style.borderRadius = "50%";
  bubble.style.animation = "bubble 700ms ease-out forwards";
  document.body.appendChild(bubble);
  setTimeout(() => bubble.remove(), 700);
});
</script>

<style>
@keyframes bubble {
  to { transform: translateY(-30px) scale(2); opacity: 0; }
}
</style>


<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
