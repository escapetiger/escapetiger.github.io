<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>C++ on WSL2 | Yi Cai</title><meta name=keywords content="C++,WSL2"><meta name=description content="Visual Studio Code
Official tutorial is enough.
Git + CMake
See an awesome tutorial to install CMake from source on ubuntu.
The standard work flow of installation a C/C++ library is described here. The first step is to use git commend clone the repository.
git clone <repository url>
To locally install the library, run
sudo mkdir build && cd build 
sudo cmake ..
sudo make install
The first command is to create a build directory and entering it. The second one is to build the library. The third command is to install the library."><meta name=author content><link rel=canonical href=https://escapetiger.github.io/en/notes/misc/cpp_on_wsl2/><link crossorigin=anonymous href=/assets/css/stylesheet.3789606c2d4bea0cbedfb7a7eeacbfce1c8709063bf55757fad9f116e778d8b3.css integrity="sha256-N4lgbC1L6gy+37en7qy/zhyHCQY79VdX+tnxFud42LM=" rel="preload stylesheet" as=style><link rel=icon href=https://escapetiger.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://escapetiger.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://escapetiger.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://escapetiger.github.io/apple-touch-icon.png><link rel=mask-icon href=https://escapetiger.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://escapetiger.github.io/en/notes/misc/cpp_on_wsl2/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Agbalumo&family=Ubuntu&family=JetBrains+Mono:wght@400;500&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&display=swap" rel=stylesheet><script data-goatcounter=https://escapetiger.goatcounter.com/count async src=//gc.zgo.at/count.js></script><script>(()=>{const t=document.documentElement,e=()=>t.dataset.tocTheme=localStorage.getItem("pref-theme")==="dark"||!localStorage.getItem("pref-theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),new MutationObserver(e).observe(t,{attributes:!0,attributeFilter:["data-theme"]})})()</script><meta property="og:url" content="https://escapetiger.github.io/en/notes/misc/cpp_on_wsl2/"><meta property="og:site_name" content="Yi Cai"><meta property="og:title" content="C++ on WSL2"><meta property="og:description" content="Visual Studio Code Official tutorial is enough.
Git + CMake See an awesome tutorial to install CMake from source on ubuntu.
The standard work flow of installation a C/C++ library is described here. The first step is to use git commend clone the repository.
git clone <repository url> To locally install the library, run
sudo mkdir build && cd build sudo cmake .. sudo make install The first command is to create a build directory and entering it. The second one is to build the library. The third command is to install the library."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="notes"><meta property="article:published_time" content="2024-07-24T00:00:00+00:00"><meta property="article:modified_time" content="2024-07-24T00:00:00+00:00"><meta property="article:tag" content="C++"><meta property="article:tag" content="WSL2"><meta name=twitter:card content="summary"><meta name=twitter:title content="C++ on WSL2"><meta name=twitter:description content="Visual Studio Code
Official tutorial is enough.
Git + CMake
See an awesome tutorial to install CMake from source on ubuntu.
The standard work flow of installation a C/C++ library is described here. The first step is to use git commend clone the repository.
git clone <repository url>
To locally install the library, run
sudo mkdir build && cd build 
sudo cmake ..
sudo make install
The first command is to create a build directory and entering it. The second one is to build the library. The third command is to install the library."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"https://escapetiger.github.io/en/notes/"},{"@type":"ListItem","position":2,"name":"C++ on WSL2","item":"https://escapetiger.github.io/en/notes/misc/cpp_on_wsl2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"C++ on WSL2","name":"C\u002b\u002b on WSL2","description":"Visual Studio Code Official tutorial is enough.\nGit + CMake See an awesome tutorial to install CMake from source on ubuntu.\nThe standard work flow of installation a C/C++ library is described here. The first step is to use git commend clone the repository.\ngit clone \u0026lt;repository url\u0026gt; To locally install the library, run\nsudo mkdir build \u0026amp;\u0026amp; cd build sudo cmake .. sudo make install The first command is to create a build directory and entering it. The second one is to build the library. The third command is to install the library.\n","keywords":["C++","WSL2"],"articleBody":"Visual Studio Code Official tutorial is enough.\nGit + CMake See an awesome tutorial to install CMake from source on ubuntu.\nThe standard work flow of installation a C/C++ library is described here. The first step is to use git commend clone the repository.\ngit clone To locally install the library, run\nsudo mkdir build \u0026\u0026 cd build sudo cmake .. sudo make install The first command is to create a build directory and entering it. The second one is to build the library. The third command is to install the library.\nvcpkg Official tutorial is enough.\nEigen Eigen is a header-only linear algebra library written in modern C++ style. It is fast and programming-friendly. It only supports multi-threading parallelization, but does not support multi-devices parallelization (MPI or CUDA).\nFor installation on ubuntu, run\nsudo apt update sudo apt install libeigen3-dev Boost Boost is a collection of toolkits that serves as candidates of C++ standard library. Many useful libraries can be found here.\nFor full installation on ubuntu, run\nsudo apt-get update sudo apt-get install libboost-all-dev For advanced installation on ubuntu, see stackoverflow for more detail.\nMKL MKL library is contained in OneAPI toolkits, for installation of OneAPI toolkits, see here.\nFor compilation, you can ask Link Advisor for help.\nfmt For compilation and installation, see here.\nFor documentation, see here.\nMatplot++ An awesome C++ library for data visualization.\nLink libraries in your own project We take Matplot++ library as an example.\nMakefile To link a shared/static library using Makefile, you must setup the include and lib path via -I and -L options.\nEmbed as Subdirectory You can use Matplot++ directly in CMake projects as a subproject, without installing it. This is convenient if you are experimenting with this library for the first time or don’t expect your users to have Matplot++ installed on their systems.\nCheck if you have CMake 3.14+ installed:\ncmake --version Clone the whole project\ngit clone https://github.com/alandefreitas/matplotplusplus/ and add the subdirectory to your CMake project:\nadd_subdirectory(matplotplusplus) When creating your executable, link the library to the targets you want:\nadd_executable(my_target main.cpp) target_link_libraries(my_target PUBLIC matplot) Add this header to your source files:\n#include However, in larger projects, it’s always recommended to look for Matplot++ with find_package before including it as a subdirectory to avoid ODR errors.\nCMake Embed with find_package after installation After installation by vcpkg or building from source, simply add the following commands to CMakeLists.txt.\nfind_package(Matplot++ CONFIG REQUIRED) target_link_libraries( PRIVATE Matplot++::cimg Matplot++::matplot) Embed with automatic downloading FetchContent is a CMake command that can automatically download the Matplot++ repository. Check if you have Cmake 3.14+ installed:\ncmake --version Include FetchContent in your CMake build script:\ninclude(FetchContent) Declare the source for the contents:\nFetchContent_Declare(matplotplusplus GIT_REPOSITORY https://github.com/alandefreitas/matplotplusplus GIT_TAG origin/master) # or whatever tag you want Let CMake download the repository and include it as a subdirectory.\nFetchContent_GetProperties(matplotplusplus) if(NOT matplotplusplus_POPULATED) FetchContent_Populate(matplotplusplus) add_subdirectory(${matplotplusplus_SOURCE_DIR} ${matplotplusplus_BINARY_DIR} EXCLUDE_FROM_ALL) endif() When creating your executable, link the library to the targets you want:\nadd_executable(my_target main.cpp) target_link_libraries(my_target PUBLIC matplot) Then add this header to your source files:\n#include However, in larger projects, it’s always recommended to look for Matplot++ with find_package before including it as a subdirectory to avoid ODR errors.\nEmbed with CPM.cmake CPM.cmake is a nice wrapper around the CMake FetchContent function.\nTo add CPM to your current project, simply add the latest release of CPM.cmake or get_cpm.cmake to your project’s cmake directory. The command below will perform this automatically.\nmkdir -p cmake wget -O cmake/CPM.cmake https://github.com/cpm-cmake/CPM.cmake/releases/latest/download/get_cpm.cmake A full CMakeLists.txt example is\ncmake_minimum_required(VERSION 3.14 FATAL_ERROR) # create project project(MyProject) # add executable add_executable(main main.cpp) # add dependencies include(cmake/CPM.cmake) CPMAddPackage(\"gh:fmtlib/fmt#7.1.3\") CPMAddPackage(\"gh:nlohmann/json@3.10.5\") CPMAddPackage(\"gh:catchorg/Catch2@3.4.0\") # link dependencies target_link_libraries(main fmt::fmt nlohmann_json::nlohmann_json Catch2::Catch2WithMain) ","wordCount":"608","inLanguage":"en","datePublished":"2024-07-24T00:00:00Z","dateModified":"2024-07-24T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://escapetiger.github.io/en/notes/misc/cpp_on_wsl2/"},"publisher":{"@type":"Organization","name":"Yi Cai","logo":{"@type":"ImageObject","url":"https://escapetiger.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://escapetiger.github.io/en/ accesskey=h title="Yi Cai (Alt + H)">Yi Cai</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://escapetiger.github.io/zh/ title=中文 aria-label=中文>Zh</a></li></ul></div></div><ul id=menu><li><a href=https://escapetiger.github.io/en/about/ title=About><span>About</span></a></li><li><a href=https://escapetiger.github.io/en/research/ title=Research><span>Research</span></a></li><li><a href=https://escapetiger.github.io/en/categories/ title=Notes><span>Notes</span></a></li><li><a href=https://escapetiger.github.io/en/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">C++ on WSL2</h1><div class=post-meta><span title='2024-07-24 00:00:00 +0000 UTC'>July 24, 2024</span>&nbsp;·&nbsp;<span>3 min</span>&nbsp;·&nbsp;<span>608 words</span></div></header><input class=pm-toc-toggle type=checkbox id=pm-toc-72473d436fdd868c98b0d376b577d22c aria-hidden=true>
<label id=pm-toc-btn class="pm-toc-btn pm-toc-btn--open pm-toc-btn--right" for=pm-toc-72473d436fdd868c98b0d376b577d22c aria-label="Open table of contents" title="Table of Contents"><span class=pm-toc-icon aria-hidden=true></span>
</label><label class=pm-toc-overlay for=pm-toc-72473d436fdd868c98b0d376b577d22c aria-hidden=true></label><div class="toc pm-toc-drawer pm-toc-drawer--right"><label class="pm-toc-btn pm-toc-btn--close" for=pm-toc-72473d436fdd868c98b0d376b577d22c aria-label="Close table of contents" title=Close>×</label><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul class=pm-toc-root data-min-level=2><li><a href=#visual-studio-code aria-label="Visual Studio Code">Visual Studio Code</a></li><li><a href=#git--cmake aria-label="Git + CMake">Git + CMake</a></li><li><a href=#vcpkg aria-label=vcpkg>vcpkg</a></li><li><a href=#eigen aria-label=Eigen>Eigen</a></li><li><a href=#boost aria-label=Boost>Boost</a></li><li><a href=#mkl aria-label=MKL>MKL</a></li><li><a href=#fmt aria-label=fmt>fmt</a></li><li><a href=#matplot aria-label=Matplot++>Matplot++</a></li><li><a href=#link-libraries-in-your-own-project aria-label="Link libraries in your own project">Link libraries in your own project</a></li><ul><li><a href=#makefile aria-label=Makefile>Makefile</a></li><li><a href=#cmake aria-label=CMake>CMake</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=visual-studio-code>Visual Studio Code<a hidden class=anchor aria-hidden=true href=#visual-studio-code>#</a></h2><p><a href="https://code.visualstudio.com/docs/cpp/config-linux#:~:text=From%20the%20main%20menu%2C%20choose%20Run%20%3E%20Add%20Configuration..,VS%20Code%20creates%20a%20launch.">Official tutorial</a> is enough.</p><h2 id=git--cmake>Git + CMake<a hidden class=anchor aria-hidden=true href=#git--cmake>#</a></h2><p>See an <a href=https://askubuntu.com/questions/355565/how-do-i-install-the-latest-version-of-cmake-from-the-command-line>awesome tutorial</a> to install CMake from <a href=https://askubuntu.com/questions/355565/how-do-i-install-the-latest-version-of-cmake-from-the-command-line>source</a> on ubuntu.</p><p>The standard work flow of installation a C/C++ library is described here. The first step is to use <code>git</code> commend clone the repository.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone &lt;repository url&gt;
</span></span></code></pre></div><p>To locally install the library, run</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mkdir build <span style=color:#f92672>&amp;&amp;</span> cd build 
</span></span><span style=display:flex><span>sudo cmake ..
</span></span><span style=display:flex><span>sudo make install
</span></span></code></pre></div><p>The first command is to create a build directory and entering it. The second one is to <em>build</em> the library. The third command is to <em>install</em> the library.</p><h2 id=vcpkg>vcpkg<a hidden class=anchor aria-hidden=true href=#vcpkg>#</a></h2><p><a href="https://learn.microsoft.com/en-gb/vcpkg/get_started/get-started?pivots=shell-bash">Official tutorial</a> is enough.</p><h2 id=eigen>Eigen<a hidden class=anchor aria-hidden=true href=#eigen>#</a></h2><p>Eigen is a header-only linear algebra library written in modern C++ style. It is fast and programming-friendly. It only supports multi-threading parallelization, but does not support multi-devices parallelization (MPI or CUDA).</p><p>For installation on ubuntu, run</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>sudo apt install libeigen3-dev
</span></span></code></pre></div><h2 id=boost>Boost<a hidden class=anchor aria-hidden=true href=#boost>#</a></h2><p>Boost is a collection of toolkits that serves as candidates of C++ standard library. Many useful libraries can be found here.</p><p>For full installation on ubuntu, run</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get install libboost-all-dev
</span></span></code></pre></div><p>For advanced installation on ubuntu, see <a href=https://stackoverflow.com/questions/12578499/how-to-install-boost-on-ubuntu>stackoverflow</a> for more detail.</p><h2 id=mkl>MKL<a hidden class=anchor aria-hidden=true href=#mkl>#</a></h2><p>MKL library is contained in <em>OneAP</em>I toolkits, for installation of OneAPI toolkits, see <a href=https://www.intel.com/content/www/us/en/developer/articles/guide/installation-guide-for-oneapi-toolkits.html>here</a>.</p><p>For compilation, you can ask <a href=https://www.intel.com/content/www/us/en/developer/tools/oneapi/onemkl-link-line-advisor.html>Link Advisor</a> for help.</p><h2 id=fmt>fmt<a hidden class=anchor aria-hidden=true href=#fmt>#</a></h2><p>For compilation and installation, see <a href=https://fmt.dev/latest/usage.html>here</a>.</p><p>For documentation, see <a href=https://fmt.dev/latest/syntax.html>here</a>.</p><h2 id=matplot>Matplot++<a hidden class=anchor aria-hidden=true href=#matplot>#</a></h2><p>An awesome C++ library for data visualization.</p><h2 id=link-libraries-in-your-own-project>Link libraries in your own project<a hidden class=anchor aria-hidden=true href=#link-libraries-in-your-own-project>#</a></h2><p>We take <code>Matplot++</code> library as an example.</p><h3 id=makefile>Makefile<a hidden class=anchor aria-hidden=true href=#makefile>#</a></h3><p>To link a shared/static library using <code>Makefile</code>, you must setup the <code>include</code> and <code>lib</code> path via <code>-I</code> and <code>-L</code> options.</p><h4 id=embed-as-subdirectory>Embed as Subdirectory<a hidden class=anchor aria-hidden=true href=#embed-as-subdirectory>#</a></h4><p>You can use <code>Matplot++</code> directly in <code>CMake</code> projects as a subproject, without installing it. This is convenient if you are experimenting with this library for the first time or don&rsquo;t expect your users to have <code>Matplot++</code> installed on their systems.</p><p>Check if you have <a href=http://cmake.org/>CMake</a> 3.14+ installed:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cmake --version
</span></span></code></pre></div><p>Clone the whole project</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git clone https://github.com/alandefreitas/matplotplusplus/
</span></span></code></pre></div><p>and add the subdirectory to your <code>CMake</code> project:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span>add_subdirectory(<span style=color:#e6db74>matplotplusplus</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p>When creating your executable, link the library to the targets you want:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span>add_executable(<span style=color:#e6db74>my_target</span> <span style=color:#e6db74>main.cpp</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>target_link_libraries(<span style=color:#e6db74>my_target</span> <span style=color:#e6db74>PUBLIC</span> <span style=color:#e6db74>matplot</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p>Add this header to your source files:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;matplot/matplot.h&gt;</span><span style=color:#75715e>
</span></span></span></code></pre></div><p>However, in larger projects, it&rsquo;s always recommended to look for <code>Matplot++</code> with <code>find_package</code> before including it as a subdirectory to avoid <a href=https://en.wikipedia.org/wiki/One_Definition_Rule>ODR errors</a>.</p><h3 id=cmake>CMake<a hidden class=anchor aria-hidden=true href=#cmake>#</a></h3><h4 id=embed-with-find_package-after-installation>Embed with <code>find_package</code> after installation<a hidden class=anchor aria-hidden=true href=#embed-with-find_package-after-installation>#</a></h4><p>After installation by <code>vcpkg</code> or building from source, simply add the following commands to <code>CMakeLists.txt</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span>find_package(<span style=color:#e6db74>Matplot++</span> <span style=color:#e6db74>CONFIG</span> <span style=color:#e6db74>REQUIRED</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>target_link_libraries(<span style=color:#e6db74>&lt;target&gt;</span> <span style=color:#e6db74>PRIVATE</span> <span style=color:#e6db74>Matplot++::cimg</span>  <span style=color:#e6db74>Matplot++::matplot</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><h4 id=embed-with-automatic-downloading>Embed with automatic downloading<a hidden class=anchor aria-hidden=true href=#embed-with-automatic-downloading>#</a></h4><p><code>FetchContent</code> is a CMake command that can automatically download the Matplot++ repository. Check if you have <a href=http://cmake.org/>Cmake</a> 3.14+ installed:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cmake --version
</span></span></code></pre></div><p>Include FetchContent in your CMake build script:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span>include(<span style=color:#e6db74>FetchContent</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p>Declare the source for the contents:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span>FetchContent_Declare(<span style=color:#e6db74>matplotplusplus</span>
</span></span><span style=display:flex><span>        <span style=color:#e6db74>GIT_REPOSITORY</span> <span style=color:#e6db74>https://github.com/alandefreitas/matplotplusplus</span>
</span></span><span style=display:flex><span>        <span style=color:#e6db74>GIT_TAG</span> <span style=color:#e6db74>origin/master</span>) <span style=color:#75715e># or whatever tag you want
</span></span></span></code></pre></div><p>Let CMake download the repository and include it as a subdirectory.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span>FetchContent_GetProperties(<span style=color:#e6db74>matplotplusplus</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>if(<span style=color:#e6db74>NOT</span> <span style=color:#e6db74>matplotplusplus_POPULATED</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>    FetchContent_Populate(<span style=color:#e6db74>matplotplusplus</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>    add_subdirectory(<span style=color:#f92672>${</span>matplotplusplus_SOURCE_DIR<span style=color:#f92672>}</span> <span style=color:#f92672>${</span>matplotplusplus_BINARY_DIR<span style=color:#f92672>}</span> <span style=color:#e6db74>EXCLUDE_FROM_ALL</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>endif()<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p>When creating your executable, link the library to the targets you want:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span>add_executable(<span style=color:#e6db74>my_target</span> <span style=color:#e6db74>main.cpp</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>target_link_libraries(<span style=color:#e6db74>my_target</span> <span style=color:#e6db74>PUBLIC</span> <span style=color:#e6db74>matplot</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p>Then add this header to your source files:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;matplot/matplot.h&gt;</span><span style=color:#75715e>
</span></span></span></code></pre></div><p>However, in larger projects, it&rsquo;s always recommended to look for Matplot++ with <code>find_package</code> before including it as a subdirectory to avoid <a href=https://en.wikipedia.org/wiki/One_Definition_Rule>ODR errors</a>.</p><h4 id=embed-with-cpmcmake>Embed with CPM.cmake<a hidden class=anchor aria-hidden=true href=#embed-with-cpmcmake>#</a></h4><p><a href=https://github.com/cpm-cmake/CPM.cmake>CPM.cmake</a> is a nice wrapper around the CMake <code>FetchContent</code> function.</p><p>To add CPM to your current project, simply add the <a href=https://github.com/cpm-cmake/CPM.cmake/releases/latest>latest release</a> of <code>CPM.cmake</code> or <code>get_cpm.cmake</code> to your project&rsquo;s <code>cmake</code> directory. The command below will perform this automatically.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir -p cmake
</span></span><span style=display:flex><span>wget -O cmake/CPM.cmake https://github.com/cpm-cmake/CPM.cmake/releases/latest/download/get_cpm.cmake
</span></span></code></pre></div><p>A full CMakeLists.txt example is</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span>cmake_minimum_required(<span style=color:#e6db74>VERSION</span> <span style=color:#e6db74>3.14</span> <span style=color:#e6db74>FATAL_ERROR</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#75715e># create project
</span></span></span><span style=display:flex><span>project(<span style=color:#e6db74>MyProject</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#75715e># add executable
</span></span></span><span style=display:flex><span>add_executable(<span style=color:#e6db74>main</span> <span style=color:#e6db74>main.cpp</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#75715e># add dependencies
</span></span></span><span style=display:flex><span>include(<span style=color:#e6db74>cmake/CPM.cmake</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>CPMAddPackage(<span style=color:#e6db74>&#34;gh:fmtlib/fmt#7.1.3&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>CPMAddPackage(<span style=color:#e6db74>&#34;gh:nlohmann/json@3.10.5&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span>CPMAddPackage(<span style=color:#e6db74>&#34;gh:catchorg/Catch2@3.4.0&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#75715e># link dependencies
</span></span></span><span style=display:flex><span>target_link_libraries(<span style=color:#e6db74>main</span> <span style=color:#e6db74>fmt::fmt</span> <span style=color:#e6db74>nlohmann_json::nlohmann_json</span> <span style=color:#e6db74>Catch2::Catch2WithMain</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://escapetiger.github.io/en/tags/c++/>C++</a></li><li><a href=https://escapetiger.github.io/en/tags/wsl2/>WSL2</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://escapetiger.github.io/en/>Yi Cai</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script src=https://cdn.jsdelivr.net/npm/bubbly-bg@0.1.10/dist/bubbly.min.js></script><script>document.addEventListener("click",e=>{const t=document.createElement("div");t.style.position="fixed",t.style.left=e.clientX+"px",t.style.top=e.clientY+"px",t.style.width=t.style.height="12px",t.style.background="rgba(255,182,193,0.8)",t.style.borderRadius="50%",t.style.animation="bubble 700ms ease-out forwards",document.body.appendChild(t),setTimeout(()=>t.remove(),700)})</script><style>@keyframes bubble{to{transform:translateY(-30px)scale(2);opacity:0}}</style><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>